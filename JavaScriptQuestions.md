## JavaScript相关问题

#### 请解释事件代理 (event delegation)。

事件代理／委托得益于浏览器的事件冒泡机制，浏览器处理DOM事件分为3个阶段：事件捕获／事件目标／事件冒泡。

在事件冒泡阶段，元素的事件会传递到父元素上，也就是父元素也会接收到该事件。所以使用事件代理，在要监听事件的元素的父元素上绑定相应事件处理器。优点：

* 减少JS的性能消耗
* 方便管理事件函数

---
#### 请解释 JavaScript 中 `this` 是如何工作的。

JS中的 `this` 是在函数执行时来确定的，也就是函数定义的时候并不能确定 `this` 的指向。如果调用者函数，被某一个对象所拥有，那么该函数在调用时，内部的`this`指向该对象。如果函数独立调用，那么该函数内部的this，则指向`undefined`。但是在非严格模式中，当`this`指向`undefined`时，它会被自动指向全局对象<sup><a href="http://www.jianshu.com/p/d647aa6d1ae6">1</a></sup>。 按照上述定义分类：

* 全局范围调用

  在全局上下文执行的代码和全局范围下调用的函数，非严格模式下`this`指向全局对象。

* 方法调用

  函数作为对象的方法调用时，其this指向拥有的那个对象

* 构造器／原型调用

  用new生成对象时，`this`会被绑定到新生成的对象

* `fn.apply`或者`fn.call`调用

  手动确定this的指向，将this绑定到函数的第一个参数（作为上下文）

* bind函数调用

  bind其实就是通过apply来绑定了函数的`this`

* 匿名函数

  this指向全局对象

* 箭头函数

  ES6的箭头函数中没有自己的上下文，`this`是不属于自己的，它会被指向作用域链中最近的一个`this`

---

#### 请解释原型继承 (prototypal inheritance) 的原理。

JS中面向对象的设计，原型继承是重要的组成部分。

其基本思想<sup>2</sup>是利用原型让一个引用类型继承另一个引用类型的属性和方法。简单回顾一下构造函数、原型和实例的关系：每 个构造函数都有一个原型对象`prototype`，原型对象都包含一个指向构造函数的指针`constructor`，而实例都包含一个指向原型 对象的内部指针`__proto__`。那么，假如我们让原型对象等于另一个类型的实例，结果会怎么样呢？显然，此时的 原型对象将包含一个指向另一个原型的指针，相应地，另一个原型中也包含着一个指向另一个构造函数 的指针。假如另一个原型又是另一个类型的实例，那么上述关系依然成立，如此层层递进，就构成了实 例与原型的链条。这就是所谓原型链的基本概念。

当访问实例对象的属性时，先查找其自身属性，如果没有该属性，则通过`__proto__`查找原型对象上的属性，如果再没有则层层递进查找，由此实现原型继承。

---
#### 你怎么看 AMD vs. CommonJS？



---
#### 请解释为什么接下来这段代码不是 IIFE (立即调用的函数表达式)：`function foo(){ }();`要做哪些改动使它变成 IIFE?



---

#### 描述以下变量的区别：`null`，`undefined` 或 `undeclared`？该如何检测它们？



---

#### 什么是闭包 (closure)，如何使用它，为什么要使用它？



---
#### 请举出一个匿名函数的典型用例？

模块化编程，

---
#### 你是如何组织自己的代码？是使用模块模式，还是使用经典继承的方法？

最近使用React偏多，两者都有吧。

---
#### 请指出 JavaScript 宿主对象 (host objects) 和原生对象 (native objects) 的区别？



---
#### 请指出以下代码的区别：`function Person(){}、var person = Person()、var person = new Person()？`



---
#### `.call` 和 `.apply` 的区别是什么？



---
#### 请解释 `Function.prototype.bind`？



---
#### 在什么时候你会使用 `document.write()`？



---
#### 请指出浏览器特性检测，特性推断和浏览器 UA 字符串嗅探的区别？



---
#### 请尽可能详尽的解释 Ajax 的工作原理。



---
#### 使用 Ajax 都有哪些优劣？



---
#### 请解释 JSONP 的工作原理，以及它为什么不是真正的 Ajax。



---
#### 你使用过 JavaScript 模板系统吗？



---
#### 如有使用过，请谈谈你都使用过哪些库？



---
#### 请解释变量声明提升 (hoisting)。

JS代码的执行分为两个阶段：建立执行上下文 ； 变量赋值／函数引用／执行代码阶段。

也就是说，变量对象是在执行上下文创建阶段生成的，生成顺序http://www.jianshu.com/p/330b1505e41d：

1. 建立arguments对象。检查当前上下文中的参数，建立该对象下的属性与属性值。
2. 检查当前上下文的函数声明，也就是使用function关键字声明的函数。在变量对象中以函数名建立一个属性，属性值为指向该函数所在内存地址的引用。如果函数名的属性已经存在，那么该属性将会被新的引用所覆盖。
3. 检查当前上下文中的变量声明，每找到一个变量声明，就在变量对象中以变量名建立一个属性，属性值为undefined。如果该变量名的属性已经存在，为了防止同名的函数被修改为undefined，则会直接跳过，原属性值不会被修改。

在未进入执行阶段时，变量对象的属性是不能访问的，只有到了执行阶段，变量对象变为活动对象，可以访问赋值。

变量提升也就容易理解了，由于代码执行先要经过变量对象的创建，那么即便是在后边语句声明的`var`变量和`function`函数，也会在执行之前生成对应的属性和执行之前的赋值。

---
#### 请描述事件冒泡机制 (event bubbling)。



---
#### "attribute" 和 "property" 的区别是什么？



---
#### 为什么扩展 JavaScript 内置对象不是好的做法？



---
#### 请指出 document load 和 document DOMContentLoaded 两个事件的区别



---
#### `==` 和 `===` 有什么不同？



---
#### 请解释 JavaScript 的同源策略 (same-origin policy)。



---
#### 如何实现下列代码：`[1,2,3,4,5].duplicator(); // [1,2,3,4,5,1,2,3,4,5]`



---

#### 什么是三元表达式 (Ternary expression)？“三元 (Ternary)” 表示什么意思？



---
#### 什么是 `"use strict";` ? 使用它的好处和坏处分别是什么？



---
#### 请实现一个遍历至 100 的 for loop 循环，在能被 3 整除时输出 "fizz"，在能被 5 整除时输出 "buzz"，在能同时被 3 和 5 整除时输出 "fizzbuzz"。



---
#### 为何通常会认为保留网站现有的全局作用域 (global scope) 不去改变它，是较好的选择？



---
#### 为何你会使用 load 之类的事件 (event)？此事件有缺点吗？你是否知道其他替代品，以及为何使用它们？



---
#### 请解释什么是单页应用 (single page app), 以及如何使其对搜索引擎友好 (SEO-friendly)。



---
#### 你使用过 Promises 及其 polyfills 吗? 请写出 Promise 的基本用法（ES6）。



---
#### 使用 Promises 而非回调 (callbacks) 优缺点是什么？



---
#### 使用一种可以编译成 JavaScript 的语言来写 JavaScript 代码有哪些优缺点？



---
#### 你使用哪些工具和技术来调试 JavaScript 代码？



---
#### 你会使用怎样的语言结构来遍历对象属性 (object properties) 和数组内容？



---
#### 请解释可变 (mutable) 和不变 (immutable) 对象的区别。



---
#### 请举出 JavaScript 中一个不变性对象 (immutable object) 的例子？



---
#### 不变性 (immutability) 有哪些优缺点？



---
#### 如何用你自己的代码来实现不变性 (immutability)？



---
#### 请解释同步 (synchronous) 和异步 (asynchronous) 函数的区别。



---
#### 什么是事件循环 (event loop)？



---
#### 请问调用栈 (call stack) 和任务队列 (task queue) 的区别是什么？



---
#### 解释 `function foo(){}` 与 `var foo = function() {}` 用法的区别



---

[1] http://www.jianshu.com/p/d647aa6d1ae6

[2] JavaScript高级程序设计